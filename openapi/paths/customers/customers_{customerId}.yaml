parameters:
  - name: customerId
    in: path
    description: System-generated unique customer identifier
    required: true
    schema:
      type: string
get:
  summary: Get customer by ID
  description: Retrieve a customer by their system-generated ID
  operationId: getCustomerById
  tags:
    - Customers
  security:
    - BasicAuth: []
  responses:
    '200':
      description: Successful operation
      content:
        application/json:
          schema:
            oneOf:
              - title: Individual Customer
                $ref: ../../components/schemas/customers/IndividualCustomer.yaml
              - title: Business Customer
                $ref: ../../components/schemas/customers/BusinessCustomer.yaml
            discriminator:
              propertyName: customerType
              mapping:
                INDIVIDUAL: ../../components/schemas/customers/IndividualCustomer.yaml
                BUSINESS: ../../components/schemas/customers/BusinessCustomer.yaml
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/errors/Error401.yaml
    '404':
      description: Customer not found
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/errors/Error404.yaml
    '500':
      description: Internal service error
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/errors/Error500.yaml
patch:
  summary: Update customer by ID
  description: Update a customer's metadata by their system-generated ID
  operationId: updateCustomerById
  tags:
    - Customers
  security:
    - BasicAuth: []
  requestBody:
    required: true
    content:
      application/json:
        schema:
          $ref: ../../components/schemas/customers/UpdateCustomerRequest.yaml
  responses:
    '200':
      description: Customer updated successfully
      content:
        application/json:
          schema:
            oneOf:
              - title: Individual Customer
                $ref: ../../components/schemas/customers/IndividualCustomer.yaml
              - title: Business Customer
                $ref: ../../components/schemas/customers/BusinessCustomer.yaml
            discriminator:
              propertyName: customerType
              mapping:
                INDIVIDUAL: ../../components/schemas/customers/IndividualCustomer.yaml
                BUSINESS: ../../components/schemas/customers/BusinessCustomer.yaml
    '400':
      description: Bad request
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/errors/Error400.yaml
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/errors/Error401.yaml
    '404':
      description: Customer not found
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/errors/Error404.yaml
    '500':
      description: Internal service error
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/errors/Error500.yaml
delete:
  summary: Delete customer by ID
  description: Delete a customer by their system-generated ID
  operationId: deleteCustomerById
  tags:
    - Customers
  security:
    - BasicAuth: []
  responses:
    '200':
      description: Customer deleted successfully
      content:
        application/json:
          schema:
            oneOf:
              - title: Individual Customer
                $ref: ../../components/schemas/customers/IndividualCustomer.yaml
              - title: Business Customer
                $ref: ../../components/schemas/customers/BusinessCustomer.yaml
            discriminator:
              propertyName: customerType
              mapping:
                INDIVIDUAL: ../../components/schemas/customers/IndividualCustomer.yaml
                BUSINESS: ../../components/schemas/customers/BusinessCustomer.yaml
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/errors/Error401.yaml
    '404':
      description: Customer not found
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/errors/Error404.yaml
    '410':
      description: Customer deleted already
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/common/GridError.yaml
    '500':
      description: Internal service error
      content:
        application/json:
          schema:
            $ref: ../../components/schemas/errors/Error500.yaml
