allOf:
  - type: object
    required:
      - id
      - status
      - currency
      - accountInfo
    properties:
      id:
        type: string
        description: The system generated identifier of this account
        example: ExternalAccount:e85dcbd6-dced-4ec4-b756-3c3a9ea3d965
      customerId:
        type: string
        description: The customer this account is tied to, or null if the account is on behalf of the platform.
        example: Customer:da459a29-1fb7-41ce-a4cb-eb3a3c9fd7a7
      status:
        $ref: ../external_accounts/ExternalAccountStatus.yaml
        description: Status of the external account
        example: ACTIVE
      platformAccountId:
        type: string
        description: Optional platform-specific identifier for this account
        example: acc_123456789
      currency:
        type: string
        description: The ISO 4217 currency code
        example: USD
      defaultUmaDepositAccount:
        type: boolean
        description: >-
          Whether this account is the default UMA deposit account for the customer. If true, incoming UMA payments
          to this customer's UMA address will be automatically deposited into this account instead of the primary internal account.
          False if not provided. Note that at most, one external account can be set as the default UMA deposit account for a customer.
          If there is no default UMA deposit account, incoming UMA payments will be deposited into the primary internal account for the customer.
        example: false
      accountInfo:
        $ref: ./ExternalAccountInfo.yaml
