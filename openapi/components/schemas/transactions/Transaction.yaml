type: object
required:
  - id
  - status
  - type
  - destination
  - customerId
  - platformCustomerId
properties:
  id:
    type: string
    description: Unique identifier for the transaction
    example: Transaction:019542f5-b3e7-1d02-0000-000000000004
  status:
    $ref: ./TransactionStatus.yaml
  type:
    $ref: ./TransactionType.yaml
  destination:
    oneOf:
      - $ref: ../common/AccountDestination.yaml
      - $ref: ../common/UmaAddressDestination.yaml
    discriminator:
      propertyName: destinationType
      mapping:
        ACCOUNT: ../common/AccountDestination.yaml
        UMA_ADDRESS: ../common/UmaAddressDestination.yaml
  customerId:
    type: string
    description: System ID of the customer (sender for outgoing, recipient for incoming)
    example: Customer:019542f5-b3e7-1d02-0000-000000000001
  platformCustomerId:
    type: string
    description: >-
      Platform-specific ID of the customer (sender for outgoing, recipient for
      incoming)
    example: 18d3e5f7b4a9c2
  settledAt:
    type: string
    format: date-time
    description: When the payment was or will be settled
    example: '2025-08-15T14:30:00Z'
  createdAt:
    type: string
    format: date-time
    description: When the transaction was created
    example: '2025-08-15T14:25:18Z'
  updatedAt:
    type: string
    format: date-time
    description: When the transaction was last updated
    example: '2025-08-15T14:30:00Z'
  description:
    type: string
    description: Optional memo or description for the payment
    example: 'Payment for invoice #1234'
  counterpartyInformation:
    type: object
    description: Additional information about the counterparty, if available and relevant to the transaction and platform. Only applicable for transactions to/from UMA addresses.
    additionalProperties: true
    example:
      FULL_NAME: John Sender
      BIRTH_DATE: '1985-06-15'
      NATIONALITY: DE
discriminator:
  propertyName: type
  mapping:
    INCOMING: ./IncomingTransaction.yaml
    OUTGOING: ./OutgoingTransaction.yaml
