## Same-Currency Transfers

Use the `/transfer-out` endpoint when sending funds in the same currency (no exchange rate needed). This is the simplest and fastest option for domestic transfers.

### When to use same-currency transfers

- Transferring USD from a USD internal account to a USD external account
- Sending funds within the same country using the same payment rail
- No currency conversion is required

### Create a transfer

<Steps>
<Step title="Get account IDs">
  Retrieve the internal account (source) and external account (destination) IDs:

```bash
curl -X GET 'https://api.lightspark.com/grid/2025-10-13/customers/internal-accounts?customerId=Customer:019542f5-b3e7-1d02-0000-000000000001' \
  -u "$GRID_CLIENT_ID:$GRID_CLIENT_SECRET"
```

Note the `id` fields from both the internal and external accounts you want to use.

</Step>

<Step title="Initiate the transfer">
  Create the transfer by specifying the source and destination accounts:

```bash
curl -X POST 'https://api.lightspark.com/grid/2025-10-13/transfer-out' \
  -u "$GRID_CLIENT_ID:$GRID_CLIENT_SECRET" \
  -H 'Content-Type: application/json' \
  -d '{
    "source": { "accountId": "InternalAccount:a12dcbd6-dced-4ec4-b756-3c3a9ea3d123" },
    "destination": { "accountId": "ExternalAccount:e85dcbd6-dced-4ec4-b756-3c3a9ea3d965" },
    "amount": 12550
  }'
```

```json Success (201 Created)
{
  "id": "Transaction:019542f5-b3e7-1d02-0000-000000000015",
  "status": "PENDING",
  "type": "OUTGOING",
  "source": {
    "accountId": "InternalAccount:a12dcbd6-dced-4ec4-b756-3c3a9ea3d123",
    "currency": "USD"
  },
  "destination": {
    "accountId": "ExternalAccount:e85dcbd6-dced-4ec4-b756-3c3a9ea3d965",
    "currency": "USD"
  },
  "sentAmount": { "amount": 12550, "currency": { "code": "USD", "decimals": 2 } },
  "receivedAmount": { "amount": 12550, "currency": { "code": "USD", "decimals": 2 } },
  "customerId": "Customer:019542f5-b3e7-1d02-0000-000000000001",
  "platformCustomerId": "customer_12345",
  "createdAt": "2025-10-03T15:00:00Z",
  "settledAt": null
}
```

<Info>
  The `amount` is specified in the smallest unit of the currency (cents for USD, pence for GBP, etc.). For example, `12550` represents $125.50 USD.
</Info>
</Step>

<Step title="Track transfer status">
  The transaction is created with a `PENDING` status. Monitor the status by:

**Option 1: Webhook notifications** (recommended)

```json
{
  "type": "OUTGOING_PAYMENT",
  "transaction": {
    "id": "Transaction:019542f5-b3e7-1d02-0000-000000000015",
    "status": "COMPLETED",
    "settledAt": "2025-10-03T15:02:30Z"
  },
  "timestamp": "2025-10-03T15:03:00Z"
}
```

**Option 2: Poll the transaction endpoint**

```bash
curl -X GET 'https://api.lightspark.com/grid/2025-10-13/transactions/Transaction:019542f5-b3e7-1d02-0000-000000000015' \
  -u "$GRID_CLIENT_ID:$GRID_CLIENT_SECRET"
```

<Check>
  When the transaction status changes to `COMPLETED`, the funds have been successfully transferred to the external account.
</Check>
</Step>
</Steps>

